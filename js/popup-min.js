var link=document.querySelector(".open-form"),popup=document.querySelector(".form-reservation"),form=document.querySelector("form"),dateIn=popup.querySelector("[name=date-in]"),dateOut=popup.querySelector("[name=date-out]"),adult=popup.querySelector("[name=adult]"),children=popup.querySelector("[name=children]"),storageAdult="",storageChildren="",isStorageSupport=!0;popup.classList.contains("form-reservation-show")&&popup.classList.remove("form-reservation-show");try{storageAdult=localStorage.getItem("adult"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.contains("form-reservation-show")?(e.preventDefault(),popup.classList.remove("form-reservation-show"),popup.classList.remove("form-reservation-animation"),popup.classList.remove("form-reservation-error")):(popup.classList.add("form-reservation-show"),popup.classList.add("form-reservation-animation"),dateIn.focus(),storageAdult&&(adult.value=storageAdult,children.value=storageChildren))}),form.addEventListener("submit",function(e){dateIn.value&&dateOut.value&&adult.value?isStorageSupport&&(localStorage.setItem("adult",adult.value),localStorage.setItem("children",children.value)):(e.preventDefault(),dateIn.focus(),popup.classList.remove("form-reservation-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("form-reservation-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("form-reservation-show")&&(e.preventDefault(),popup.classList.remove("form-reservation-show"),popup.classList.remove("form-reservation-animation"),popup.classList.remove("form-reservation-error"))});
